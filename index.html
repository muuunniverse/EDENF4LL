<!DOCTYPE html>
<html>
<head>
    <title>EDENFALL - An Existential Game</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            background: #0f0f1a;
            color: #e0e0ff;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
            max-width: 700px;
            margin: 0 auto;
            padding: 20px;
        }
        .passage {
            background: rgba(25, 25, 50, 0.8);
            border-left: 3px solid #6a5acd;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 0 5px 5px 0;
            display: none;
        }
        .passage ul {
            list-style: none;
            padding: 0;
        }
        .passage li {
            margin-bottom: 10px;
        }
        .passage a {
            color: #ffffff;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        .passage a:hover {
            color: #ff00ff;
        }
        .glitch-box {
            animation: glitch 2s infinite;
            background: black;
            padding: 20px;
            border: 1px solid #ff00ff;
            margin: 20px 0;
        }
        .glitch-text {
            color: #00ffff;
            text-shadow: 0 0 5px #ff00ff;
        }
        .glitch-effect {
            animation: text-glitch 0.5s infinite alternate;
        }
        #password-input {
            background: #111;
            color: white;
            border: 1px solid #6a5acd;
            padding: 8px;
            width: 100%;
            margin: 10px 0;
        }
        button {
            background: #6a5acd;
            color: white;
            border: none;
            padding: 8px 15px;
            cursor: pointer;
            transition: 0.3s;
        }
        button:hover {
            background: #ff00ff;
        }
        #nuke-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #ff0000;
            z-index: 100;
        }
        @keyframes glitch {
            0% { filter: hue-rotate(0deg); }
            50% { filter: hue-rotate(90deg); opacity: 0.8; }
            100% { filter: hue-rotate(0deg); }
        }
        @keyframes text-glitch {
            0% { transform: translate(0); text-shadow: 0 0 5px #ff00ff; }
            30% { transform: translate(-1px, 1px); text-shadow: 1px 0 5px #00ffff; }
            60% { transform: translate(1px, -1px); text-shadow: -1px 0 5px #ff00ff; }
            100% { transform: translate(0); text-shadow: 0 0 5px #00ffff; }
        }
        @media (max-width: 600px) {
            body { padding: 5px; font-size: 15px; }
            .passage { padding: 10px; font-size: 15px; }
            #nuke-btn {
                font-size: 16px;
                width: 90vw;
                left: 5vw;
                right: unset;
                bottom: 10px;
                top: unset;
                position: fixed;
            }
            button { font-size: 16px; width: 100%; }
        }
    </style>
</head>
<body>

    <button id="nuke-btn" onclick="nukeGame()">NUKE</button>

    <!-- Semua passage ceritamu di sini, contoh START -->
    <div class="passage" id="start">
        <h2>Chapter 1: The Birth</h2>
        <p>You wake up in a digital void. The air smells like static electricity, a cold, silent hum filling the emptiness.</p>
        <p>A strange dissonance vibrates within you. You look around, and where others might see vibrant figures, you only see faint, repeating patterns. They are <b>"mayat berjalan"</b> (walking corpses), moving without true purpose, a glitch in your perception.</p>
        <p>There's a distant pull, a silent calling from the deepest reaches of this empty world.</p>
        <ul>
            <li><a href="#divergence">Follow the calling.</a></li>
        </ul>
    </div>
    <!-- ... (lanjutkan passage lain seperti di file aslimu, jangan lupa id-nya unik dan urut) ... -->

    <!-- contoh passage lain (harusnya ada semua, ini cuma ilustrasi, copas dari yang sudah kamu buat!) -->
    <div class="passage" id="divergence">
        <h2>Chapter 2 & 3: The Echo / The Divergence</h2>
        <p>You begin to move, your steps feeling surprisingly free. ...</p>
        <!-- ...dst. semua isi cerita... -->
        <ul>
            <li><a href="#contact">Approach the glitching figure.</a></li>
            <li><a href="#explore-alone">Ignore it and explore deeper ...</a></li>
        </ul>
    </div>
    <!-- dst sampai ending -->

    <script>
    // PASSAGE NAVIGATION FIX
    function showPassage(id) {
        // Sembunyikan semua passage
        document.querySelectorAll('.passage').forEach(p => p.style.display = 'none');
        // Tampilkan passage sesuai id
        const el = document.getElementById(id);
        if (el) {
            el.style.display = 'block';
        } else {
            // Jika id tidak ada, fallback ke start
            document.getElementById('start').style.display = 'block';
        }
    }

    // Saat halaman pertama dibuka
    window.onload = function() {
        let id = location.hash.replace('#', '') || 'start';
        showPassage(id);
    };
    // Saat hash berubah (klik link cerita)
    window.onhashchange = function() {
        let id = location.hash.replace('#', '') || 'start';
        showPassage(id);
    };

    // Tombol nuke: restart ke awal
    function nukeGame() {
        if (confirm("Are you sure you want to NUKE the system? This will restart the story.")) {
            location.hash = "#start";
            showPassage('start');
        }
    }
    </script>
</body>
</html>
